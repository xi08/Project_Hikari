C251 COMPILER V5.60.0,  servo                                                              14/03/22  14:48:16  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE servo
OBJECT MODULE PLACED IN .\Output\servo.obj
COMPILER INVOKED BY: C:\Keil_v5\C251\BIN\C251.EXE User\servo.c XSMALL INTR2 WARNINGLEVEL(3) BROWSE INCDIR(.\Code;.\Lib\l
                    -ibraries;.\Lib\seekfree_libraries;.\Lib\seekfree_peripheral;.\User) DEFINE(USE_8701E) DEBUG PRINT(.\Output\servo.lst) OB
                    -JECT(.\Output\servo.obj) 

stmt  level    source

    1          /*  code=utf-8
    2              Project Hikari 舵机驱动
    3          */
    4          #include "servo.h"
    5          #include "pid.h"
    6          //舵机PID
    7          volatile PID_baseNode servoPID;
    8          //初始化舵机驱动
    9          void servoInit(void)
   10          {
   11   1          pwm_init(Servo_PWM, servoPWMfreq, servoDutyMid);
   12   1      }
   13          //占空比输入的舵机直接控制
   14          void servoDirectCtrl(uint16 *pwmDuty)
   15          {
   16   1          if (*pwmDuty > servoDutyMax)
   17   1              *pwmDuty = servoDutyMax;
   18   1          if (*pwmDuty < servoDutyMin)
   19   1              *pwmDuty = servoDutyMin;
   20   1          pwm_duty(Servo_PWM, *pwmDuty);
   21   1      }
   22          // PID舵机占空比计算
   23          int16 servoDutyUpdate(void)
   24          {
   25   1          servoPID.actual = servoPID.output;
   26   1          pidUpdate_base(&servoPID);
   27   1          return (servoPID.output);
   28   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =        85     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =        26     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
